(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){},36:function(t,e,n){t.exports=n(69)},69:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),u=n(11),s=n(12),i=n(15),l=n(14),m=n(5),b=n(70),d=n(2),f=(n(47),n(1)),C="ADD_CONTACT",E="REMOVE_CONTACT",p="FIND_CONTACT",O="ADD_REQUEST",h="ADD_SUCCESS",j="ADD_ERROR",v="GET_REQUEST",g="GET_SUCCESS",S="GET_ERROR",R="REMOVE_REQUEST",y="REMOVE_SUCCESS",N="REMOVE_ERROR",T=Object(f.b)(O),k=Object(f.b)(h),_=Object(f.b)(j),D=Object(f.b)(R),w=Object(f.b)(y),A=Object(f.b)(N),L=Object(f.b)(v),q=Object(f.b)(g),x=Object(f.b)(S),U=(Object(f.b)(C,(function(t,e){return{payload:{items:{name:t,number:e}}}})),Object(f.b)(E,(function(t){return{payload:{id:t}}})),{addContactRequest:T,addContactSuccess:k,addContactError:_,getContactRequest:L,getContactSuccess:q,getContactError:x,removeContactRequest:D,removeContactSuccess:w,removeContactError:A,findContact:Object(f.b)(p,(function(t){return{payload:{filter:t}}}))}),G=n(16),I=n.n(G),M={addContact:function(t,e){return function(n){n(U.addContactRequest()),I.a.post("http://localhost:2000/contacts",{name:t,number:e}).then((function(t){n(U.addContactSuccess(t.data))})).catch((function(t){return n(U.addContactError())}))}},getContacts:function(){return function(t){t(U.getContactRequest()),I.a.get("http://localhost:2000/contacts").then((function(e){return t(U.getContactSuccess(e.data))})).catch((function(e){return t(U.getContactError)}))}},removeContact:function(t){return function(e){e(U.removeContactRequest()),I.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(n){return e(U.removeContactSuccess(t))})).catch((function(t){return e(U.removeContactError)}))}}},B=(n(10),function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",double:!1},t.handleChange=function(e,n){t.setState(Object(d.a)({},e,n))},t.handleSubmit=function(e){var n=t.state,a=n.name,c=n.number,r=t.props,o=r.itemsList,u=r.onAddContact;e.preventDefault(),!o.filter((function(t){return t.name.includes(a)})).length>=1?(u(a,c),t.setState({name:"",number:""})):t.setState({name:"",number:"",double:!0}),setTimeout((function(){t.setState({double:!1})}),1e3)},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.name,a=e.number,r=e.double;this.props.itemsList;return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{in:r,timeout:1e3,unmountOnExit:!0,classNames:"warn"},c.a.createElement("p",{className:"warn"},"Problem invoked!")),c.a.createElement("form",{onSubmit:function(e){return t.handleSubmit(e)}},c.a.createElement("input",{onChange:function(e){return t.handleChange(e.target.name,e.target.value)},placeholder:"name",value:n,name:"name",type:"text",className:"name"}),c.a.createElement("input",{onChange:function(e){return t.handleChange(e.target.name,e.target.value)},placeholder:"number",value:a,name:"number",type:"text",className:"number"}),c.a.createElement("button",{className:"button",type:"submit"},"add")))}}]),n}(a.Component)),V={onAddContact:M.addContact},Q=Object(m.b)((function(t,e){return{itemsList:t.contacts.items}}),V)(B),F=n(71),J=function(t){return t.contacts.filter},P=function(t){return t.contacts.loading},z=J,H=function(t){var e=J(t),n=t.contacts.items,a=e.toLowerCase();return n.filter((function(t){return t.name.toLowerCase().includes(a)}))},K={removeItem:M.removeContact},W=Object(m.b)((function(t){return{contactsss:H(t)}}),K)((function(t){var e=t.contactsss,n=t.removeItem;return c.a.createElement(F.a,{component:"ul"},e.map((function(t){var e=t.id,a=t.name,r=t.number;return c.a.createElement(b.a,{key:e,in:!0,timeout:500,classNames:"listItem",className:"listElement"},c.a.createElement("li",{key:e},c.a.createElement("span",{className:"name"},a),c.a.createElement("span",{className:"number"},r),c.a.createElement("button",{className:"button",onClick:function(){return n(e)}},"remove")))})))}));var X,Y,Z={findByName:U.findContact},$=Object(m.b)((function(t){return{value:z(t),arrLength:t.contacts.items.length}}),Z)((function(t){var e=t.value,n=t.findByName,a=t.arrLength;return console.log(typeof e),c.a.createElement(b.a,{in:a>1,timeout:500,unmountOnExit:!0,classNames:"filter"},c.a.createElement("input",{className:"name findElement",type:"text",value:e,placeholder:"find",onChange:function(t){return n(t.target.value)}}))})),tt=function(t){Object(i.a)(n,t);var e=Object(l.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetContacts()}},{key:"render",value:function(){return c.a.createElement("div",{className:"wrapper"},c.a.createElement(b.a,{in:!0,timeout:1e3,classNames:"title",appear:!0},c.a.createElement("h1",null,"Phone Book")),c.a.createElement(b.a,{in:!0,timeout:1e3,classNames:"title",appear:!0},c.a.createElement(Q,null)),c.a.createElement($,null),c.a.createElement(W,null),this.props.isLoading&&c.a.createElement("h3",null,"Loading..."))}}]),n}(a.Component),et={onGetContacts:M.getContacts},nt=Object(m.b)((function(t,e){return{isLoading:P(t)}}),et)(tt),at=n(34),ct=n(4),rt=Object(f.c)([],(X={},Object(d.a)(X,U.addContactSuccess,(function(t,e){return[].concat(Object(at.a)(t),[e.payload])})),Object(d.a)(X,U.getContactSuccess,(function(t,e){return e.payload})),Object(d.a)(X,U.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload.id}))})),X)),ot=Object(f.c)("",Object(d.a)({},U.findContact,(function(t,e){return e.payload.filter}))),ut=Object(f.c)(!1,(Y={},Object(d.a)(Y,U.addContactRequest,(function(t,e){return!0})),Object(d.a)(Y,U.addContactSuccess,(function(){return!1})),Object(d.a)(Y,U.addContactError,(function(){return!1})),Object(d.a)(Y,U.getContactRequest,(function(){return!0})),Object(d.a)(Y,U.getContactSuccess,(function(){return!1})),Object(d.a)(Y,U.getContactError,(function(){return!1})),Object(d.a)(Y,U.removeContactRequest,(function(){return!0})),Object(d.a)(Y,U.removeContactSuccess,(function(){return!1})),Object(d.a)(Y,U.removeContactError,(function(){return!1})),Y)),st=Object(ct.c)({items:rt,filter:ot,loading:ut}),it=Object(f.a)({reducer:{contacts:st}});o.a.render(c.a.createElement(m.a,{store:it},c.a.createElement(nt,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.28228327.chunk.js.map